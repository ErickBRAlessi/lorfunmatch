<!DOCTYPE html>
<html lang="en">

<style>
  @font-face {
    font-family: defaultFont;
    src: url(./font/Excluded-z8XrX.ttf);
  }

  body {
    font-family: defaultFont;
    background-image: url(./img/background-ashe.jpg);
    overflow-x: hidden;
  }

  .container {
    color: darkslategray;
    font-family: defaultFont;
    background-color: rgba(255, 255, 255, 0.4);
  }

  header {
    color: black;
  }

  /* CSS REQUIRED */
  .state-icon {
    left: -5px;
  }

  .list-group-item-primary {
    color: rgb(255, 255, 255);
    background-color: rgb(66, 139, 202);
  }

  /* DEMO ONLY - REMOVES UNWANTED MARGIN */
  .well .list-group {
    margin-bottom: 0px;
  }
</style>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Erick Alessi">

  <title>LOR FUN MATCHES</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>

  <!-- Última versão CSS compilada e minificada -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Última versão JavaScript compilada e minificada -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <script>
    $(document).ready(function () {
      console.log("ready!");
    });

  </script>
</head>

<body>

  <!-- Masthead -->
  <div class="container darker">
    <header>
      <div class="row">
        <div class="col-sm-12 text-center">
          <h1>LOR FUN MATCH</h1>
        </div>
      </div>
    </header>
    <!-- names selection-->
    <form>
      <div class="text-center">
        <h2>Players Name</h2>
      </div>
      <div class="form-row text-center">
        <div class="col-sm-6">
          <input class="form-control form-control-lg rounded text-center" type="text" id="p1-name"
            placeholder="Player 1 Name">
        </div>
        <div class="col-sm-6">
          <input class="form-control form-control-lg rounded text-center" type="text" id="p2-name"
            placeholder="Player 2 Name">
        </div>
    </form>

    <!-- region selections -->
    <form>
      <div class="text-center">
        <h2>Regions Selection</h2>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <label>
            <input id="same-region-for-both" type="checkbox">SAME REGION FOR BOTH
          </label>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Bilgewater-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-bilgewater" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-bilgewater" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Demacia-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-demacia" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-demacia" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Freljord-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-freljord" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-freljord" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Ionia-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-ionia" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-ionia" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Noxus-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-noxus" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-noxus" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Piltover-Zaun-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-piltover" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-piltover" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <img class="img-fluid" src="img/Shadow-Isle-Icon.png">
          <div class="row">
            <div class="col-sm-6">
              <label>
                <input id="p1-shadow" type="checkbox" checked="true">P1
              </label>
            </div>
            <div class="col-sm-6">
              <label>
                <input id="p2-shadow" type="checkbox" checked="true">P2
              </label>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>


  <div id="modifiers" class="text-center">
    <h2>Modifiers</h2>

    <div class="well" style="max-height: 300px;overflow: auto;">
      <ul class="list-group checked-list-box">
        <li class="list-group-item">No Magics!</li>
        <li class="list-group-item">Only Commons</li>
        <li class="list-group-item">Only Commons and Rares</li>
        <li class="list-group-item">No Legends Allowed</li>
        <li class="list-group-item">Only 3+ Cost Cards</li>
        <li class="list-group-item">Only 5- Cost Cards</li>
      </ul>

    </div>



    <div class="row text-center">
      <button type="button" class="btn btn-lg btn-primary" data-toggle="modal" data-target="#modalResult"
        onclick="randomized()">Make Me A Match Setting</button>
    </div>

    <!-- Footer -->
    <footer class="footer bg-light">
      <div class="row">
        <div class="col-sm-12 text-center">
          <p class="text-muted" style="color:black">LORFUNMATCH 2020. ERICK ALESSI.
            <a href="https://www.linkedin.com/in/erick-alessi-091404167/">
              <i class="fa fa-linkedin"> LinkedIn</i>
            </a>
          </p>
        </div>
      </div>

    </footer>

    <!-- Modal: modalResult-->
    <div class="modal fade right" id="modalResult" tabindex="-1" role="dialog" aria-labelledby="Result"
      aria-hidden="true" data-backdrop="false">
      <div class="modal-dialog modal-side modal-bottom-right modal-notify modal-info" role="document">
        <!--Content-->
        <div class="modal-content">
          <!--Header-->
          <div class="modal-header">
            <h4 class="heading">FUN MATCH CREATED
            </h4>

            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true" class="white-text">&times;</span>
            </button>
          </div>

          <!--Body-->
          <div class="modal-body">

            <div class="row">
              <div id="p1-modal-name" class="col-sm-6 text-center">
              </div>
              <div id="p2-modal-name" class="col-sm-6 text-center">
              </div>
            </div>
            <div class="row">
              <div id="p1-modal-region-1" class="col-sm-3 text-center">
              </div>
              <div id="p1-modal-region-2" class="col-sm-3 text-center">
              </div>
              <div id="p2-modal-region-1" class="col-sm-3 text-center">
              </div>
              <div id="p2-modal-region-2" class="col-sm-3 text-center">
              </div>
            </div>
          </div>

          <!--Footer-->
          <div class="modal-footer justify-content-center">
            <a type="button" class="btn btn-info" onclick="randomized()">Try again</a>
            <a type="button" class="btn btn-outline-info waves-effect" data-dismiss="modal">Close</a>
          </div>
        </div>
        <!--/.Content-->
      </div>
    </div>
    <!-- Modal: modalAbandonedCart-->

</body>
</div>

</html>


<script>
  class Player {
    constructor(name, regions, modifiers) {
      this.name = name;
      this.regions = regions;
      this.modifiers = modifiers;
    }
  }

  class Region {
    constructor(name, active, imgUrl) {
      this.name = name;
      this.active = active;
      this.imgUrl = imgUrl;
    }
  }

  //main class, control the randomization of all components
  class Randomizer {
    constructor(p1Regions, p2Regions) {
      this.p1Regions = p1Regions;
      this.p2Regions = p2Regions;
    };

    randomInt(min, max) {
      return min + Math.floor((max - min) * Math.random());
    }

    get2P1Regions() {
      if (this.p1Regions.length < 1) {
        alert("Select one or more Regions for Player 2");
        return;
      }
      var regionsRandomized = [];
      regionsRandomized.push(this.p1Regions[this.randomInt(0, this.p1Regions.length)]);
      regionsRandomized.push(this.p1Regions[this.randomInt(0, this.p1Regions.length)]);
      return regionsRandomized;
    }

    get2P2Regions() {
      if (this.p2Regions.length < 1) {
        alert("Select one or more Regions for Player 2");
        return;
      }
      var regionsRandomized = [];
      regionsRandomized.push(this.p2Regions[this.randomInt(0, this.p2Regions.length)]);
      regionsRandomized.push(this.p2Regions[this.randomInt(0, this.p2Regions.length)]);
      return regionsRandomized;
    }

    refreshRandomizer() {
      randomizer.p1Regions = [];
      randomizer.p2Regions = [];
      if ($("#p1-bilgewater").is(":checked")) {
        randomizer.p1Regions.push(new Region("bilgewater", true, "img/Bilgewater-Icon.png"));
      }
      if ($("#p1-demacia").is(":checked")) {
        randomizer.p1Regions.push(new Region("demacia", true, "img/Demacia-Icon.png"));
      }
      if ($("#p1-freljord").is(":checked")) {
        randomizer.p1Regions.push(new Region("freljord", true, "img/Freljord-Icon.png"));
      }
      if ($("#p1-ionia").is(":checked")) {
        randomizer.p1Regions.push(new Region("ionia", true, "img/Ionia-Icon.png"));
      }
      if ($("#p1-noxus").is(":checked")) {
        randomizer.p1Regions.push(new Region("noxus", true, "img/Noxus-Icon.png"));
      }
      if ($("#p1-piltover").is(":checked")) {
        randomizer.p1Regions.push(new Region("piltover", true, "img/Piltover-Zaun-Icon.png"));
      }
      if ($("#p1-shadow").is(":checked")) {
        randomizer.p1Regions.push(new Region("shadow", true, "img/Shadow-Isle-Icon.png"));
      }

      if ($("#p2-bilgewater").is(":checked")) {
        randomizer.p2Regions.push(new Region("bilgewater", true, "img/Bilgewater-Icon.png"));
      }
      if ($("#p2-demacia").is(":checked")) {
        randomizer.p2Regions.push(new Region("demacia", true, "img/Demacia-Icon.png"));
      }
      if ($("#p2-freljord").is(":checked")) {
        randomizer.p2Regions.push(new Region("freljord", true, "img/Freljord-Icon.png"));
      }
      if ($("#p2-ionia").is(":checked")) {
        randomizer.p2Regions.push(new Region("ionia", true, "img/Ionia-Icon.png"));
      }
      if ($("#p2-noxus").is(":checked")) {
        randomizer.p2Regions.push(new Region("noxus", true, "img/Noxus-Icon.png"));
      }
      if ($("#p2-piltover").is(":checked")) {
        randomizer.p2Regions.push(new Region("piltover", true, "img/Piltover-Zaun-Icon.png"));
      }
      if ($("#p2-shadow").is(":checked")) {
        randomizer.p2Regions.push(new Region("shadow", true, "img/Shadow-Isle-Icon.png"));
      }
    }
  }

  var allRegions = [
    new Region("bilgewater", true, "img/Bilgewater-Icon.png"),
    new Region("demacia", true, "img/Demacia-Icon.png"),
    new Region("freljord", true, "img/Freljord-Icon.png"),
    new Region("ionia", true, "img/Ionia-Icon.png"),
    new Region("noxus", true, "img/Noxus-Icon.png"),
    new Region("piltover", true,"img/Piltover-Zaun-Icon.png"),
    new Region("shadow", true, "img/Shadow-Isle-Icon.png")
  ];


  var p1 = new Player("Player 1", [], "");
  var p2 = new Player("Player 2", [], "");

  var randomizer = new Randomizer(allRegions, allRegions);


  function refreshNames() {
    if ($('#p1-name').val() != "") {
      p1.name = $('#p1-name').val();
    } else {
      p1.name = "Player 1";
    }
    if ($('#p2-name').val() != "") {
      p2.name = $('#p2-name').val();
    } else {
      p2.name = "Player 2";
    }
  }

  function randomized() {
    p1.regions = randomizer.get2P1Regions();
    p2.regions = randomizer.get2P2Regions();

    $("#p1-modal-name").html(p1.name);
    $("#p2-modal-name").html(p2.name);

    $("#p1-modal-region-1").html("<img class='img-fluid' src='"+ p1.regions[0].imgUrl+"'/>");
    $("#p1-modal-region-2").html("<img class='img-fluid' src='"+ p1.regions[1].imgUrl+"'/>");
    $("#p2-modal-region-1").html("<img class='img-fluid' src='"+ p2.regions[0].imgUrl+"'/>");
    $("#p2-modal-region-2").html("<img class='img-fluid' src='"+ p2.regions[1].imgUrl+"'/>");
  }

  $("input").change(function () {
    refreshNames();
    randomizer.refreshRandomizer();
    console.log("something has changed")
  });




  function findRegionIndex(player, name) {
    var i = 0;
    for (region of player.regions) {
      if (region.name == name) {
        return i;
      }
      i++;
    }
  }

</script>
<!--

  var p1Regions =  [
  bilgewater:bilgewaterRegion,
  demacia:demaciaRegion,
  freljord:freljordRegion,
  ionia:ioniaRegion,
  noxus:noxusRegion,
  piltover:piltoverRegion,
  shadow:shadowRegion
  ]
  ; 
-->